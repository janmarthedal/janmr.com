---
title: math-tex demo
date: 2017-11-01
tags: lab
description: >-
  A demo that combines
  <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">Web Components</a>
  (custom elements and shadow DOM) and <a href="https://www.mathjax.org/">MathJax</a>
---
{% extends "layouts/base.njk" %}
{% block head -%}
<script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.17/webcomponents-sd-ce.js"></script>
<script src="math-tex-controller.js"></script>
<script src="math-tex.js"></script>
<math-tex-controller></math-tex-controller>
{%- endblock %}
{% block content -%}
<h1><code>&lt;math-tex&gt;</code> demo</h1>

<p>For <math-tex>n \in \mathbb N = 1, 2, 3, \ldots</math-tex> we have</p>

<math-tex mode="display">\sum_{k=1}^n k = \frac{n(n+1)}{2}</math-tex>

<p>The first two Fibonacci numbers are defined to be (<a href="#">click for more</a>):</p>

<ul id="fib-list">
  <li><math-tex>F_0 = 0</math-tex></li>
  <li><math-tex>F_1 = 1</math-tex></li>
</ul>
{%- endblock %}
{% block bodyend -%}
<script type="text/javascript">
  document.querySelector('a').addEventListener('click', (function() {
  var idx=1, a=0, b=1;
  return function (ev) {
    var li = document.createElement("li"), t = a + b;
    ev.preventDefault();
    a = b; b = t; idx++;
    li.innerHTML = "<math-tex>F_{" + idx + "} = F_{" + (idx-1) + "} + F_{" + (idx-2) + "} = " + b + "</math-tex>";
    document.getElementById("fib-list").appendChild(li);
  };
  })());
</script>
{{ super() }}
{%- endblock %}